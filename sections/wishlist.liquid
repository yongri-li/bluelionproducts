<div class="
  wishlist-container
  {% if section.settings.container %} container {% else %} container-fluid {% endif %}
  {{ section.settings.margin_top | prepend: 'mt-' }}
  {{ section.settings.margin_bottom | prepend: 'mb-' }}
">
  {% if settings.wishlist_enable %}
  {% if section.settings.heading != blank %}
    <{{ section.settings.heading_size }} class="{{ section.settings.heading_alignment }} {{ section.settings.heading_margin_bottom | prepend: 'mb-' }} {{ section.settings.heading_letter_spacing | prepend: 'letter-spacing-' }} text-title">
    {{ section.settings.heading }}
    </{{ section.settings.heading_size }}>
  {% endif %}

  {% if section.settings.subheading != blank %}
    <div class="rte text-muted {{ section.settings.heading_alignment }} {{ section.settings.sub_letter_spacing | prepend: 'letter-spacing-' }} {{ section.settings.sub_margin_bottom | prepend: 'mb-' }}">
      {{ section.settings.subheading }}
    </div>
  {% endif %}

  {% assign product_list = collections[section.settings.collection].products %}
  {% assign image_crop = section.settings.product_image_crop %}
  {% assign from = section.settings.show_from %}
  {% assign prod_margin_bottom = section.settings.prod_price_margin_bottom %}
  {% render 'wishlist-items' with product_list: product_list, image_crop:image_crop, from:from, prod_margin_bottom:prod_margin_bottom %}
</div>
<div class="wishlist-grid--empty-list text-center d-none">
  <div class="empty-list--info">
    <h6 class="empty-list--text black">{{section.settings.wishlist_empty}}</h6>
    <a class="btn btn-primary btn-md empty-list--btn" href="/collections/all">{{section.settings.wishlist_button}}</a>
  </div>
</div>
</div>
<!-- Loader -->
<div class="wishlist-loader  text-center">
  <i class="fas fa-heart"></i>
  <p class="wishlist-loader--text">{{section.settings.wishlist_loading}}</p>
</div>
{% else %}
<div class="alert alert-danger text-center mt-6 mb-6" role="alert">
  Wishlist is not activated, please activate by going here <a href="https://{{shop.permanent_domain}}/admin/themes/{{theme.id}}/editor?context=theme&category=gid://shopify/OnlineStoreThemeSettingsCategory/Additional+settings?theme_id={{theme.id}}&first_setting_id=scroll_to_top">HERE</a>
</div>
{% endif %}
</div>

{% schema %}
  {
    "name": "Wishlist",
    "tag": "section",
    "class": "wish-list",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading text",
        "default": "Wishlist"
      },
      {
        "type": "range",
        "id": "heading_margin_bottom",
        "label": "Heading Margin bottom",
        "min": 0,
        "max": 12,
        "step": 1,
        "default": 0
      },
      {
        "type": "range",
        "id": "heading_letter_spacing",
        "label": "Heading letter spacing",
        "min": 0,
        "max": 10,
        "step": 1,
        "default": 0
      },
      {
        "type": "richtext",
        "id": "subheading",
        "label": "Subheading text",
        "default": "<p>Write something catchy here.</p>"
      },
      {
        "type": "range",
        "id": "sub_margin_bottom",
        "label": "Sub heading margin bottom",
        "min": 0,
        "max": 12,
        "step": 1,
        "default": 0
      },
      {
        "type": "range",
        "id": "sub_letter_spacing",
        "label": "Sub heading letter spacing",
        "min": 0,
        "max": 10,
        "step": 1,
        "default": 3
      },
      {
        "type": "text",
        "id": "wishlist_loading",
        "label": "Wishlist loading text",
        "default": "Hang tight while we fetch your wishlist"
      },
      {
        "type": "text",
        "id": "wishlist_empty",
        "label": "Wishlist empty text",
        "default": "There's nothing in your wishlist"
      },
      {
        "type": "text",
        "id": "wishlist_button",
        "label": "Wishlist button text",
        "default": "Shop Now"
      },
      {
        "id": "collection",
        "type": "collection",
        "label": "Collection"
      },
      {
        "type": "range",
        "id": "limit",
        "min": 2,
        "max": 24,
        "step": 1,
        "label": "Total products to display",
        "default": 4
      },
      {
        "type": "header",
        "content": "Adjust products per Row"
      },
      {
        "type": "range",
        "id": "row",
        "min": 1,
        "max": 3,
        "step": 1,
        "label": "Extra small screens (default)",
        "default": 2
      },
      {
        "type": "range",
        "id": "row_sm",
        "min": 1,
        "max": 3,
        "step": 1,
        "label": "Small screens (sm)",
        "default": 2
      },
      {
        "type": "range",
        "id": "row_md",
        "min": 1,
        "max": 4,
        "step": 1,
        "label": "Medium screens (md)",
        "default": 3
      },
      {
        "type": "range",
        "id": "row_lg",
        "min": 1,
        "max": 6,
        "step": 1,
        "label": "Large screens (lg)",
        "default": 4
      },
      {
        "type": "range",
        "id": "row_xl",
        "min": 1,
        "max": 8,
        "step": 1,
        "label": "Extra-large screens (xl)",
        "default": 4
      },
      {
        "type": "header",
        "content": "General settings"
      },
      {
        "type": "select",
        "id": "heading_size",
        "label": "Heading Size",
        "default": "h2",
        "options": [
          {
            "value": "h1", "label": "H1"
          },
          {
            "value": "h2", "label": "H2"
          },
          {
            "value": "h3", "label": "H3"
          },
          {
            "value": "h4", "label": "H4"
          },
          {
            "value": "h5", "label": "H5"
          },
          {
            "value": "h6", "label": "H6"
          }
        ]
      },
      {
        "type": "select",
        "id": "heading_alignment",
        "label": "Heading alignment",
        "default": "text-left",
        "options": [
          {
            "value": "text-left", "label": "Left"
          },
          {
            "value": "text-center", "label": "Center"
          },
          {
            "value": "text-right", "label": "Right"
          }
        ]
      },
      {
        "type": "checkbox",
        "id": "container",
        "label": "Wrap in container",
        "default": true
      },
      {
        "type": "header",
        "content": "Product settings"
      },
      {
        "type": "checkbox",
        "id": "align_center",
        "label": "Align center",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_product_title",
        "label": "Show product title",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_discount_badge",
        "label": "Show discount badge",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_price",
        "label": "Show price",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_from",
        "label": "Show from text",
        "default": true
      },
      {
        "type": "range",
        "id": "prod_price_margin_bottom",
        "label": "Price Margin bottom",
        "min": 0,
        "max": 12,
        "step": 1,
        "default": 0
      },
      {
        "type": "checkbox",
        "id": "show_add_to_cart_form",
        "label": "Show Add to cart form",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "add_to_cart_form_show_qty",
        "label": "Show Qty on Add to cart form",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "add_to_cart_form_show_inventory",
        "label": "Show Inventory on Add to cart form",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "quick_view_enabled",
        "label": "Enable Quick View",
        "default": true
      },
      {
        "type": "select",
        "id": "product_title_size",
        "label": "Product title size",
        "default": "h6",
        "options": [
          {
            "value": "h1", "label": "H1"
          },
          {
            "value": "h2", "label": "H2"
          },
          {
            "value": "h3", "label": "H3"
          },
          {
            "value": "h4", "label": "H4"
          },
          {
            "value": "h5", "label": "H5"
          },
          {
            "value": "h6", "label": "H6"
          }
        ]
      },
      {
        "type": "range",
        "id": "product_title_margin_bottom",
        "label": "Product title margin bottom",
        "min": 0,
        "max": 12,
        "step": 1,
        "default": 3
      },
      {
        "type": "header",
        "content": "Product image settings"
      },
      {
        "type": "text",
        "id": "image_width",
        "label": "Image width (px)",
        "default": "360"
      },
      {
        "type": "text",
        "id": "image_height",
        "label": "Image height (px)",
        "default": "360"
      },
      {
        "type": "select",
        "id": "product_image_crop",
        "info": "Cropping images helps with load optimization, stop the page from loading full resolution",
        "label": "Product image crop",
        "default": "center",
        "options": [
          {
            "value": "top",
            "label": "Top"
          },
          {
            "value": "center",
            "label": "Center"
          },
          {
            "value": "bottom",
            "label": "Bottom"
          },
          {
            "value": "left",
            "label": "Left"
          },
          {
            "value": "right",
            "label": "Right"
          },
          {
            "value": "master",
            "label": "Full resolution"
          },
          {
            "value": "high_res_1",
            "label": "High resolution 1"
          },
          {
            "value": "high_res_2",
            "label": "High resolution 2"
          },
          {
            "value": "high_res_3",
            "label": "High resolution 3"
          }
        ]
      },
      {
        "type": "checkbox",
        "id": "image_border",
        "label": "Border",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "image_circle",
        "label": "Circle",
        "default": false
      },
      {
        "type": "select",
        "id":  "image_hover_effect",
        "label": "Hover effect",
        "default": "image-hover-shine",
        "options": [
          {
            "value": "image-hover", "label": "No effect"
          },
          {
            "value": "image-hover-fade-in", "label": "Fade in"
          },
          {
            "value": "image-hover-fade-out", "label": "Fade out"
          },
          {
            "value": "image-hover-scale-in", "label": "Scale in"
          },
          {
            "value": "image-hover-scale-out", "label": "Scale out"
          },
          {
            "value": "image-hover-flashing", "label": "Flashing"
          },
          {
            "value": "image-hover-shine", "label": "Shine"
          }
        ]
      },
      {
        "type": "header",
        "content": "Spacing"
      },
      {
        "type": "paragraph",
        "content": "Based on Bootstrap spacing utility classes [Learn more](https://getbootstrap.com/docs/4.5/utilities/spacing/)"
      },
      {
        "type": "range",
        "id": "margin_top",
        "label": "Margin top",
        "min": 0,
        "max": 12,
        "step": 1,
        "default": 3
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "label": "Margin bottom",
        "min": 0,
        "max": 12,
        "step": 1,
        "default": 6
      },
      {
        "type": "range",
        "id": "gutter_horizontal",
        "label": "Horizontal gutter",
        "min": 0,
        "max": 12,
        "step": 1,
        "default": 2,
        "info": "Spacing between products"
      },
      {
        "type": "range",
        "id": "gutter_vertical",
        "label": "Vertical gutter",
        "min": 0,
        "max": 12,
        "step": 1,
        "default": 3,
        "info": "Spacing between products"
      }
    ]
  }
{% endschema %}
